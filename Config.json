{
    "EnvConfigQuery": "SELECT  TOOL_CONFIG_JSON  FROM [OumDB].[OUM].[UPLOAD_CONFIG] where TOOL_NAME='SQLS'",
    "OumDBConnectionString": "Data Source=sql.qa.octopai-corp.local;Initial Catalog=OumDB;User ID=oumdb;Password=iAmOum!@",
    "QueryAllCustomers":"SELECT distinct a.CUSTOMER_ID,a.CUSTOMER_NAME,a.CONNECTION_STRING \nFROM \n OumDB.OUM.CUSTOMER a\n inner join \n OumDB.OUM.CUSTOMER_Tool Tool\non\n(a.CUSTOMER_ID=Tool.CUSTOMER_ID)\nand Tool.TOOL_NAME in ('SQLS') and a.CUSTOMER_ID='17192AA4-A8C9-454B-848F-3FD386B672E2'\n",
    "ToolQuery": "select MODULE_NAME,MODULE_TYPE,CONNECTION_VALUE,CONNECTION_ID,CONNECTION_NAME,isnull(SCHD_DATETIME,'') as  SCHD_DATETIME ,SCHD_STATUS,IS_ETL,DS_PROJECT from ti.MNG_ADMIN_CONNECTION_SCHED where MODULE_NAME in ('SQLS') ",
    "AQL": "FOR request IN http_requests\n    FILTER request.currentsheet ==@currentsheet\n        LET user = FIRST(\n            FOR user IN users\n            FILTER user.id == request.user_id \n            RETURN user\n        )\n        LET systemUser = FIRST(\n            FOR sysUser IN system_users\n            FILTER sysUser.id == user.system_user_id\n            RETURN sysUser\n        )\n        LET view = FIRST(\n            FOR view IN views\n            FILTER view.repository_url == request.currentsheet\n            \n            RETURN view\n        )\n        LET workbook = FIRST(\n            FOR workbook IN workbooks\n            FILTER workbook.id == view.workbook_id\n            RETURN workbook\n        )\n        LET project = FIRST(\n            FOR project IN projects\n            FILTER project.id == workbook.project_id\n            RETURN project\n        )\n        LET truncatedTimeDay = DATE_TRUNC(DATE_ISO8601(request.completed_at), \"day\")\n        LET truncatedTimeMonth = DATE_TRUNC(DATE_ISO8601(request.completed_at), \"month\")\n        LET truncatedTimeYear = DATE_TRUNC(DATE_ISO8601(request.completed_at), \"year\")\n        LET truncatedTimeQuarter = DATE_TRUNC(DATE_ISO8601(request.completed_at), \"quarter\")\n        LET truncatedTimeWeek = DATE_TRUNC(DATE_ISO8601(request.completed_at), \"week\")\n        LET viewidX = view.id\n        COLLECT repositoryUrl = view.repository_url\n        AGGREGATE \n            totalViews = COUNT(request.id),\n            maxTime = MAX(request.completed_at),\n            numberOfDays = COUNT_DISTINCT(truncatedTimeDay),\n            numberOfMonths = COUNT_DISTINCT(truncatedTimeMonth),\n            numberOfYears = COUNT_DISTINCT(truncatedTimeYear),\n            numberOfQuarters=COUNT_DISTINCT(truncatedTimeQuarter),\n            numberOfWeeks=COUNT_DISTINCT(truncatedTimeWeek),\n            lastUsageId = MAX(request._key),\n            viewID = MAX(viewidX),\n            updated_atx = MAX(view.updated_at),\n            created_atx = MAX(view.created_at)\n        \n        FILTER viewID != null\n    \n        LET lastUsage = FIRST(\n            FOR u IN http_requests\n            FILTER u._key == lastUsageId\n            RETURN u\n        )\n        LET lastUser = FIRST(\n            FOR u IN users\n            FILTER u.id == lastUsage.user_id\n            RETURN u\n        )\n        LET lastSystemUser = FIRST(\n            FOR su IN system_users\n            FILTER su.id == lastUser.system_user_id\n            RETURN su\n        )\n        LET ownerView = FIRST(\n            FOR v IN views\n            FILTER v.id == viewID\n            RETURN v\n        )\n        LET owner = FIRST(\n            FOR u IN users\n            FILTER u.id == ownerView.owner_id\n            RETURN u\n        )\n        LET sys = FIRST(\n            FOR u IN system_users\n            FILTER u.id == owner.system_user_id\n            RETURN u\n        )\n        LET avgCountDay = totalViews / numberOfDays\n        LET avgCountMonth = totalViews / numberOfMonths\n        LET avgCountYear = totalViews / numberOfYears\n        LET avgCountQuarter=totalViews /numberOfQuarters\n        LET avgCountWeek=totalViews /numberOfWeeks\n        LET frequency = \n            avgCountDay > 1 ? 'Daily' :\n            avgCountWeek >1 ? 'Weekly':\n            avgCountMonth > 1 ? 'Monthly' :\n            avgCountQuarter >1 ? 'Quarterly':\n            'Yearly'\n        \n        RETURN {\n            repositoryUrl,\n            totalViews,\n            viewID,\n            updated_at: DATE_FORMAT(updated_atx, \"%yyyy-%mm-%dd %hh:%ii:%ss\"),\n            created_at: DATE_FORMAT(created_atx, \"%yyyy-%mm-%dd %hh:%ii:%ss\"),\n            maxTime: DATE_FORMAT(maxTime, \"%yyyy-%mm-%dd %hh:%ii:%ss\"),\n            frequency,\n            avgCountDay,\n            avgCountMonth,\n            avgCountYear,\n            numberOfDays,\n            numberOfMonths,\n            numberOfYears,\n            numberOfQuarters,\n            lastRunBy: lastSystemUser.friendly_name,\n            last_change: sys.friendly_name\n        }\n",
    "AQL_AUDIT": "FOR a IN historical_events\n    FILTER a.hist_view_id != null && a.hist_workbook_id != null && a.hist_actor_user_id != null && a.id==@id\n    LET hv = FIRST(FOR hv IN hist_views FILTER hv.id == a.hist_view_id RETURN hv)\n    LET hw = FIRST(FOR hw IN hist_workbooks FILTER hw.id == a.hist_workbook_id RETURN hw)\n    LET hu = FIRST(FOR hu IN hist_users FILTER hu.id == a.hist_actor_user_id RETURN hu)\n    LET su = FIRST(FOR su IN system_users FILTER su.id == hu.user_id RETURN su)\n    RETURN {\n        id: a.id,  // Assuming you want the document id\n        name: hv.name,\n        revision: hv.revision,\n        created_at: a.created_at,\n        view_name: hv.name,\n        view_id: hv.view_id,\n        repository_url: hv.repository_url,\n        user_id: hu.user_id,\n        system_user_id: hu.system_user_id,\n        friendly_name: su.friendly_name\n    }\n",
    "timeToWait": {
        "hist_users": 0,
        "users": 0,
        "system_users": 0,
        "views": 0,
        "views_stats": 0,
        "hist_views": 0,
        "hist_workbooks": 0,
        "projects": 0,
        "workbooks": 0,
        "sessions": 0,
        "sites": 0,
        "historical_events": 0,
        "http_requests": 1000,
        "QUERY_HISTORY": 1000,
        "TABLES": 100,
        "VIEWS": 100,
        "PROCEDURES": 100
    }


}